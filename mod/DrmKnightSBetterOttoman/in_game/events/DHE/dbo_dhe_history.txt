namespace = dbo_dhe_history
# dbo_dhe_history
# dbo_yildirim_sultan_bayezid born
dbo_dhe_history.101 = {
	type = country_event
	title = dbo_dhe_history.101.title
	desc = dbo_dhe_history.101.desc
	historical_info = dbo_dhe_history.101.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_born.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1350.1.1
		to = 1360.1.1
		monthly_chance = 100
	}
	trigger = {
		has_ruler = yes
		ruler = {
			is_adult = yes
		}
	}
	immediate = {
		create_character = {
			first_name = Bayezid
			nickname = nick_Yildirim
			dynasty = root.ruler.dynasty
			father = root.ruler
			birth_location = root.capital
			age = 0
			culture = root.ruler.culture
			religion = root.ruler.religion
			fertility = 100
			no_stats = yes
			add_trait = trait:child_prodigy
			script = dbo_yildirim_sultan_bayezid
		}
		add_character_modifier = {
			modifier = dbo_character_yildirim_sultan_bayezid
			years = modifier_duration_permanent
			mode = add_and_extend
		}
	}
	option = {
		name = dbo_dhe_history.101.a
		historical_option = yes
	}
}

# dbo_yildirim_sultan_bayezid rise
dbo_dhe_history.102 = {
	type = country_event
	title = dbo_dhe_history.102.title
	desc = dbo_dhe_history.102.desc
	historical_info = dbo_dhe_history.102.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_rise.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1360.1.1
		to = 1370.1.1
		monthly_chance = 100
	}
	trigger = {
		exists = character:dbo_yildirim_sultan_bayezid
		character:dbo_yildirim_sultan_bayezid = {
			is_alive = yes
			is_adult = yes
		}
	}
	option = {
		name = dbo_dhe_history.102.a
		historical_option = yes
		character:dbo_yildirim_sultan_bayezid = {
			hidden_effect = {
				remove_traits_of_category = ruler
				remove_traits_of_category = general
			}
			add_trait = trait:bold_fighter
			add_trait = trait:conqueror
			add_trait = trait:hussar_commander
		}
	}
}

# dbo_yildirim_sultan_bayezid ascend
dbo_dhe_history.103 = {
	type = country_event
	title = dbo_dhe_history.103.title
	desc = dbo_dhe_history.103.desc
	historical_info = dbo_dhe_history.103.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_ascend.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1370.1.1
		to = 1380.1.1
		monthly_chance = 100
	}
	trigger = {
		has_ruler = yes
		exists = character:dbo_yildirim_sultan_bayezid
		character:dbo_yildirim_sultan_bayezid = {
			is_alive = yes
			is_adult = yes
		}
	}
	option = {
		name = dbo_dhe_history.103.a
		historical_option = yes
		if = {
			limit = {
				character:dbo_yildirim_sultan_bayezid = {
					is_ruler = no
				}
			}
			set_new_ruler = character:dbo_yildirim_sultan_bayezid
		}
	}
}

# dbo_yildirim_sultan_bayezid dbo_conquest_anatolian_turks_challenged
dbo_dhe_history.104 = {
	type = country_event
	title = dbo_dhe_history.104.title
	desc = dbo_dhe_history.104.desc
	historical_info = dbo_dhe_history.104.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_challenge_anatolian_turks_union.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1380.1.1
		to = 1390.1.1
		monthly_chance = 100
	}
	trigger = {
		exists = character:dbo_yildirim_sultan_bayezid
		character:dbo_yildirim_sultan_bayezid = {
			is_ruler = yes
			character_age > 30
		}
	}
	option = {
		name = dbo_dhe_history.104.a
		historical_option = yes
		set_variable = dbo_conquest_anatolian_turks_challenged
	}
}

# dbo_yildirim_sultan_bayezid dbo_yildirim_sultan_bayezid_nightmare_1
dbo_dhe_history.105 = {
	type = country_event
	title = dbo_dhe_history.105.title
	desc = dbo_dhe_history.105.desc
	historical_info = dbo_dhe_history.105.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_defeated_by_timur.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1390.1.1
		to = 1410.1.1
		monthly_chance = 10
	}
	trigger = {
		at_war = no
		exists = character:dbo_yildirim_sultan_bayezid
		character:dbo_yildirim_sultan_bayezid = {
			is_ruler = yes
		}
		country_exists = c:TIM
		any_neighbor_country = {
			OR = {
				tag = TIM
				is_subject_or_below_of = c:TIM
			}
		}
	}
	option = {
		name = dbo_dhe_history.105.a
		historical_option = yes
		set_variable = {
			name = dbo_yildirim_sultan_bayezid_nightmare
			value = 1
		}
	}
}

# dbo_yildirim_sultan_bayezid Nightmare
dbo_dhe_history.106 = {
	type = country_event
	title = dbo_dhe_history.106.title
	desc = dbo_dhe_history.106.desc
	historical_info = dbo_dhe_history.106.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_nightmare.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1400.1.1
		to = 1420.1.1
		monthly_chance = 10
	}
	trigger = {
		at_war = no
		exists = character:dbo_yildirim_sultan_bayezid
		character:dbo_yildirim_sultan_bayezid = {
			is_ruler = yes
		}
		country_exists = c:TIM
		any_neighbor_country = {
			OR = {
				tag = TIM
				is_subject_or_below_of = c:TIM
			}
		}
		has_variable = dbo_yildirim_sultan_bayezid_nightmare
		var:dbo_yildirim_sultan_bayezid_nightmare = 1
	}
	option = {
		name = dbo_dhe_history.106.a
		historical_option = yes
		change_variable = {
			name = dbo_yildirim_sultan_bayezid_nightmare
			add = 1
		}
	}
}

# dbo_yildirim_sultan_bayezid die
dbo_dhe_history.107 = {
	type = country_event
	title = dbo_dhe_history.107.title
	desc = dbo_dhe_history.107.desc
	historical_info = dbo_dhe_history.107.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_die.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1400.1.1
		to = 1420.1.1
		monthly_chance = 10
	}
	trigger = {
		at_war = no
		exists = character:dbo_yildirim_sultan_bayezid
		character:dbo_yildirim_sultan_bayezid = {
			is_ruler = yes
		}
		country_exists = c:TIM
		any_neighbor_country = {
			OR = {
				tag = TIM
				is_subject_or_below_of = c:TIM
			}
		}
		has_variable = dbo_yildirim_sultan_bayezid_nightmare
		var:dbo_yildirim_sultan_bayezid_nightmare = 2
	}
	option = {
		name = dbo_dhe_history.107.a
		historical_option = yes
		kill_character = {
			target = character:dbo_yildirim_sultan_bayezid
			reason = sudden_illness
		}
		change_variable = {
			name = dbo_yildirim_sultan_bayezid_nightmare
			add = 1
		}
	}
}

# dbo_fatih_sultan_mehmed born
dbo_dhe_history.201 = {
	type = country_event
	title = dbo_dhe_history.201.title
	desc = dbo_dhe_history.201.desc
	historical_info = dbo_dhe_history.201.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_fatih_sultan_mehmed_born.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1430.1.1
		to = 1440.1.1
		monthly_chance = 100
	}
	trigger = {
		has_ruler = yes
	}
	immediate = {
		create_character = {
			first_name = name_muhammad
			nickname = nick_the_conquerer
			dynasty = dynasty:ottomans_dynasty
			father = root.ruler
			birth_location = root.capital
			age = 0
			culture = culture:turkish_culture
			religion = religion:sunni
			no_stats = yes
			add_trait = trait:child_prodigy
			script = dbo_fatih_sultan_mehmed
		}
		character:dbo_fatih_sultan_mehmed = {
			add_character_modifier = {
				modifier = dbo_character_fatih_sultan_mehmed
				years = modifier_duration_permanent
				mode = add_and_extend
			}
		}
	}
	option = {
		name = dbo_dhe_history.201.a
		historical_option = yes
	}
}

# dbo_fatih_sultan_mehmed rise
dbo_dhe_history.202 = {
	type = country_event
	title = dbo_dhe_history.202.title
	desc = dbo_dhe_history.202.desc
	historical_info = dbo_dhe_history.202.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_fatih_sultan_mehmed_rise.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1440.1.1
		to = 1450.1.1
		monthly_chance = 100
	}
	trigger = {
		has_ruler = yes
		exists = character:dbo_fatih_sultan_mehmed
		character:dbo_fatih_sultan_mehmed = {
			is_alive = yes
			is_adult = yes
		}
	}
	option = {
		name = dbo_dhe_history.202.a
		historical_option = yes
		character:dbo_fatih_sultan_mehmed = {
			hidden_effect = {
				remove_traits_of_category = ruler
				remove_traits_of_category = general
			}
			add_trait = trait:scholar
			add_trait = trait:free_thinker
			add_trait = trait:conqueror
			add_trait = trait:military_theorist
		}
	}
}

# dbo_fatih_sultan_mehmed ascend
dbo_dhe_history.203 = {
	type = country_event
	title = dbo_dhe_history.203.title
	desc = dbo_dhe_history.203.desc
	historical_info = dbo_dhe_history.203.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_ascend.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1450.1.1
		to = 1460.1.1
		monthly_chance = 100
	}
	trigger = {
		has_ruler = yes
		exists = character:dbo_fatih_sultan_mehmed
		character:dbo_fatih_sultan_mehmed = {
			is_alive = yes
			is_adult = yes
		}
	}
	option = {
		name = dbo_dhe_history.203.a
		historical_option = yes
		if = {
			limit = {
				character:dbo_yildirim_sultan_bayezid = {
					is_ruler = no
				}
			}
			set_new_ruler = character:dbo_yildirim_sultan_bayezid
		}
		# dbo_fatih_sultan_mehmed and Orban Events
		custom_tooltip = {
			text = dbo_fatih_sultan_mehmed_and_orban_tt
			trigger_event_silently = {
				id = dbo_history.101
				months = 3
			}
		}
	}
}

# dbo_fatih_sultan_mehmed dbo_conquest_rumelia_challenged
dbo_dhe_history.204 = {
	type = country_event
	title = dbo_dhe_history.204.title
	desc = dbo_dhe_history.204.desc
	historical_info = dbo_dhe_history.204.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_fatih_sultan_mehmed_challenge_rumelia.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1451.1.1
		to = 1470.1.1
		monthly_chance = 10
	}
	trigger = {
		exists = character:dbo_fatih_sultan_mehmed
		historical_option = yes
		character:dbo_fatih_sultan_mehmed = {
			is_alive = yes
			is_adult = yes
			is_ruler = yes
		}
		has_variable = dbo_history_fatih_sultan_mehmet_and_orban_events_completed
	}
	option = {
		name = dbo_dhe_history.204.a
		set_variable = dbo_conquest_rumelia_challenged
	}
}

# dbo_fatih_sultan_mehmed Changelling to Conquest Black Sea
dbo_dhe_history.205 = {
	type = country_event
	title = dbo_dhe_history.205.title
	desc = dbo_dhe_history.205.desc
	historical_info = dbo_dhe_history.205.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_fatih_sultan_mehmed_challenge_black_sea.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1451.1.1
		to = 1470.1.1
		monthly_chance = 10
	}
	trigger = {
		exists = character:dbo_fatih_sultan_mehmed
		historical_option = yes
		character:dbo_fatih_sultan_mehmed = {
			is_alive = yes
			is_adult = yes
			is_ruler = yes
		}
		has_variable = dbo_conquest_rumelia_challenged
	}
	option = {
		name = dbo_dhe_history.205.a
		historical_option = yes
		set_variable = dbo_conquest_black_sea_challenged
	}
}

# dbo_fatih_sultan_mehmed Working on Legal Code
dbo_dhe_history.206 = {
	type = country_event
	title = dbo_dhe_history.206.title
	desc = dbo_dhe_history.206.desc
	historical_info = dbo_dhe_history.206.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_fatih_sultan_mehmed_legal_code.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1451.1.1
		to = 1470.1.1
		monthly_chance = 10
	}
	trigger = {
		exists = character:dbo_fatih_sultan_mehmed
		character:dbo_fatih_sultan_mehmed = {
			is_alive = yes
			is_adult = yes
			is_ruler = yes
		}
	}
	option = {
		name = dbo_dhe_history.206.a
		historical_option = yes
		set_variable = dbo_destiny_legal_code_kanunname_i_al_i_osman_policy_obtained
		add_policy = policy:dbo_destiny_legal_code_kanunname_i_al_i_osman_policy
		dbo_event_severe_bonus = yes
	}
}

# dbo_fatih_sultan_mehmed Die
dbo_dhe_history.207 = {
	type = country_event
	title = dbo_dhe_history.207.title
	desc = dbo_dhe_history.207.desc
	historical_info = dbo_dhe_history.207.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_fatih_sultan_mehmed_die.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1480.1.1
		to = 1490.1.1
		monthly_chance = 100
	}
	trigger = {
		exists = character:dbo_fatih_sultan_mehmed
		character:dbo_fatih_sultan_mehmed = {
			is_alive = yes
			is_ruler = yes
			num_of_children > 1
			any_child = {
				is_alive = yes
				is_adult = yes
				is_female = no
			}
		}
		has_variable = dbo_history_fatih_sultan_mehmet_and_orban_events_completed
		has_variable = dbo_conquest_rumelia_challenged
		has_variable = dbo_conquest_black_sea_challenged
		has_variable = dbo_destiny_legal_code_kanunname_i_al_i_osman_policy_obtained
	}
	option = {
		name = dbo_dhe_history.207.a
		historical_option = yes
	}
}

# Yavuz Sultan Selim Born
dbo_dhe_history.301 = {
	type = country_event
	title = dbo_dhe_history.301.title
	desc = dbo_dhe_history.301.desc
	historical_info = dbo_dhe_history.301.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yavuz_sultan_selim_born.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1470.1.1
		to = 1480.1.1
		monthly_chance = 100
	}
	trigger = {
		exists = character:dbo_fatih_sultan_mehmed
		OR = {
			AND = {
				has_ruler = yes
				ruler = {
					father = character:dbo_fatih_sultan_mehmed
				}
			}
			AND = {
				has_heir = yes
				heir = {
					father = character:dbo_fatih_sultan_mehmed
				}
			}
		}
	}
	immediate = {
		if = {
			limit = {
				has_ruler = yes
				ruler = {
					father = character:dbo_fatih_sultan_mehmed
				}
			}
			ruler = {
				save_temporary_scope_as = target_father
			}
		}
		else_if = {
			limit = {
				has_heir = yes
				heir = {
					father = character:dbo_fatih_sultan_mehmed
				}
			}
			heir = {
				save_temporary_scope_as = target_father
			}
		}
		else = {
			create_character = {
				first_name = Bayezid
				dynasty = character:dbo_fatih_sultan_mehmed.dynasty
				father = character:dbo_fatih_sultan_mehmed
				birth_location = root.capital
				age = {
					min = 16
					max = 30
				}
				culture = root.culture
				religion = root.religion
				fertility = 100
				adm = {
					50
					70
				}
				dip = {
					50
					70
				}
				mil = {
					50
					70
				}
				save_temporary_scope_as = target_father
			}
		}
		create_character = {
			first_name = Selim
			nickname = nick_Yavuz
			dynasty = root.ruler.dynasty
			father = scope:target_father
			birth_location = root.capital
			age = 0
			culture = root.ruler.culture
			religion = root.ruler.religion
			fertility = 100
			no_stats = yes
			add_trait = trait:child_prodigy
			script = dbo_yavuz_sultan_selim
		}
		add_character_modifier = {
			modifier = dbo_character_yavuz_sultan_selim
			days = -1
			mode = add_and_extend
		}
	}
	option = {
		name = dbo_dhe_history.301.a
		historical_option = yes
	}
}

# Yavuz Sultan Selim rise
dbo_dhe_history.302 = {
	type = country_event
	title = dbo_dhe_history.302.title
	desc = dbo_dhe_history.302.desc
	historical_info = dbo_dhe_history.302.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yavuz_sultan_selim_rise.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1490.1.1
		to = 1510.1.1
		monthly_chance = 100
	}
	trigger = {
		exists = character:dbo_yavuz_sultan_selim
		character:dbo_yavuz_sultan_selim = {
			is_alive = yes
			is_adult = yes
		}
	}
	option = {
		name = dbo_dhe_history.302.a
		historical_option = yes
		character:dbo_yavuz_sultan_selim = {
			hidden_effect = {
				remove_traits_of_category = ruler
				remove_traits_of_category = general
			}
			add_trait = trait:conqueror
			add_trait = trait:tactical_genius
			add_trait = trait:conqueror
			add_trait = trait:military_theorist
		}
	}
}

# dbo_history_yildirim_sultan_bayezid_ascend
dbo_dhe_history.303 = {
	type = country_event
	title = dbo_dhe_history.303.title
	desc = dbo_dhe_history.303.desc
	historical_info = dbo_dhe_history.303.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yildirim_sultan_bayezid_ascend.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1510.1.1
		to = 1520.1.1
		monthly_chance = 100
	}
	trigger = {
		has_ruler = yes
		exists = character:dbo_yavuz_sultan_selim
		character:dbo_yavuz_sultan_selim = {
			is_alive = yes
			is_adult = yes
		}
	}
	option = {
		name = dbo_dhe_history.303.a
		historical_option = yes
		if = {
			limit = {
				character:dbo_yavuz_sultan_selim = {
					is_ruler = no
				}
			}
			set_new_ruler = character:dbo_yavuz_sultan_selim
		}
	}
}

# Yavuz Sultan Selim challenge_steep_mountain
dbo_dhe_history.304 = {
	type = country_event
	title = dbo_dhe_history.304.title
	desc = dbo_dhe_history.304.desc
	historical_info = dbo_dhe_history.304.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yavuz_sultan_selim_challenge_steep_mountain.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1510.1.1
		to = 1520.1.1
		monthly_chance = 20
	}
	trigger = {
		exists = character:dbo_yavuz_sultan_selim
		character:dbo_yavuz_sultan_selim = {
			is_ruler = yes
		}
	}
	option = {
		name = dbo_dhe_history.304.a
		historical_option = yes
		set_variable = dbo_conquest_steep_mountain_challenged
	}
}

# Yavuz Sultan Selim challenge_fertile_crescent
dbo_dhe_history.305 = {
	type = country_event
	title = dbo_dhe_history.305.title
	desc = dbo_dhe_history.305.desc
	historical_info = dbo_dhe_history.305.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yavuz_sultan_selim_challenge_fertile_crescent.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1510.1.1
		to = 1520.1.1
		monthly_chance = 20
	}
	trigger = {
		exists = character:dbo_yavuz_sultan_selim
		character:dbo_yavuz_sultan_selim = {
			is_ruler = yes
		}
	}
	option = {
		name = dbo_dhe_history.305.a
		historical_option = yes
		set_variable = dbo_conquest_fertile_crescent_challenged
	}
}

# Yavuz Sultan Selim challenge_nile_river
dbo_dhe_history.306 = {
	type = country_event
	title = dbo_dhe_history.306.title
	desc = dbo_dhe_history.306.desc
	historical_info = dbo_dhe_history.306.historical_info
	image = "gfx/interface/illustrations/event/backgrounds/dbo_history_yavuz_sultan_selim_challenge_nile_river.dds"
	fire_only_once = yes
	dynamic_historical_event = {
		tag = TUR
		from = 1510.1.1
		to = 1520.1.1
		monthly_chance = 20
	}
	trigger = {
		exists = character:dbo_yavuz_sultan_selim
		character:dbo_yavuz_sultan_selim = {
			is_ruler = yes
		}
		has_variable = dbo_conquest_fertile_crescent_challenged
	}
	option = {
		name = dbo_dhe_history.306.a
		historical_option = yes
		set_variable = dbo_conquest_nile_river_challenged
	}
}
