dbo_conquest_rumelia_claim = {
	type = situation
	show_message = no
	potential = {
	}
	allow = {
		scope:actor = {
			at_war = no
			has_raised_levies = no
			OR = {
				situation:rise_of_the_ottomans = {
					situation_is_active = no
					situation_has_ended = yes
				}
				has_variable = dbo_conquest_rumelia_challenged
			}
			own_entire_province = province_definition:edirne_province
			own_entire_province = province_definition:dardanelles_province
			own_entire_province = province_definition:constantinople_province
		}
	}
	ai_tick = monthly
	ai_tick_frequency = 3
	automation_tick = never
	automation_tick_frequency = 12
	price = price:dbo_casus_belli_price
	cooldown = {
		type = dbo_conquest_rumelia_claim_cooldown_key
		years = 1
	}
	select_trigger = {
		looking_for_a = situation
		interaction_source_list = {
			situation:dbo_situation = {
				add_to_list = source
			}
		}
		target_flag = recipient
		name = "choose_situation"
		column = {
			data = name
		}
		visible = {
			situation:dbo_situation = this
			situation_is_active = yes
		}
	}
	select_trigger = {
		looking_for_a = province
		target_flag = target
		name = "choose_province"
		none_available_msg_key = "no_provinces_available"
		column = {
			data = owner_flag
		}
		column = {
			data = name
		}
		column = {
			data = population
		}
		visible = {
			scope:actor = {
				can_declare_war_on = root.owner
			}
			trigger_if = {
				OR = {
					area = area:bosnia_area
					area = area:albania_area
					area = area:bulgaria_area
					area = area:macedonia_area
					area = area:morea_area
					area = area:northern_greece_area
					area = area:serbia_area
					area = area:thrace_area
				}
			}
			any_location_in_province = {
				is_neighbor_of = scope:actor
			}
			NOT = {
				owner = {
					OR = {
						this = scope:actor
						overlord ?= scope:actor
						has_mutual_scripted_relation = {
							type = relation_type:alliance
							target = scope:actor
						}
					}
				}
			}
		}
	}
	effect = {
		if = {
			limit = {
				exists = scope:target
			}
			scope:actor = {
				add_casus_belli = {
					target = scope:target.owner
					type = casus_belli:dbo_cb_conquest_rumelia
					province = scope:target
				}
			}
		}
	}
	ai_will_do = {
		if = {
			limit = {
				exists = scope:actor
				exists = scope:target
				scope:actor = {
					NOT = {
						has_variable = dbo_conquest_rumelia_obtained
					}
				}
			}
			if = {
				limit = {
					scope:target.owner = {
						is_subject = yes
						top_overlord ?= scope:actor
					}
				}
				add = {
					value = -10000
					desc = "our subject"
				}
			}
			if = {
				limit = {
					scope:actor = {
						is_during_bankruptcy = yes
					}
				}
				add = {
					value = -10000
					desc = "[bankruptcy|e]"
				}
			}
			if = {
				limit = {
					scope:actor = {
						has_truce_with = scope:target.owner
					}
				}
				add = {
					value = -10000
					desc = "truce"
				}
			}
			if = {
				limit = {
					scope:actor = {
						is_allied_with = {
							target = scope:target.owner
						}
					}
				}
				add = {
					value = -10000
					desc = "Our ally"
				}
			}
			if = {
				limit = {
					scope:actor = {
						has_casus_belli_on = scope:target.owner
					}
				}
				add = {
					value = -10000
					desc = "We already have a cb on them"
				}
			}
			add = {
				desc = "RELATIVE_STRENGTH"
				value = "scope:actor.relative_defensive_alliance_strength(scope:target.owner)"
				multiply = 100
				subtract = 60
			}
			add = {
				desc = "we want their land"
				value = "scope:actor.conquer_desire(scope:target.owner)"
			}
			if = {
				limit = {
					scope:actor = {
						wants_to_attack = scope:target.owner
					}
				}
				add = {
					value = 2000
					desc = "We want to attack them"
				}
			}
			if = {
				limit = {
					scope:actor = {
						has_variable = dbo_conquest_anatolian_turks_obtained
					}
				}
				add = {
					value = 200
					desc = "dbo_conquest_anatolian_turks_obtained"
				}
			}
			if = {
				limit = {
					scope:actor = {
						has_variable = dbo_conquest_rumelia_challenged
					}
				}
				add = {
					value = 800
					desc = "dbo_conquest_anatolian_turks_challenged"
				}
			}
		}
		else = {
			add = {
				value = 20
				desc = BASE_VALUE
			}
		}
	}
}
